services:
    database:
        image: docker.io/postgres:latest
        restart: unless-stopped
        shm_size: 1g
        volumes: 
            - ./resultset:/resultset
        environment:
            POSTGRES_DB: app
            POSTGRES_PASSWORD: app
            POSTGRES_USER: app
        healthcheck:
            test: ["CMD-SHELL", "pg_isready -U app"]
            interval: 15s
            timeout: 5s
            start_period: 600s
            retries: 1